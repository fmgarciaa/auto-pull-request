name: Crear Rama y Pull Request en GitHub Actions
run-name: Test Pull Request automatize ðŸš€

on:
  push:
    branches:
      - main

jobs:
  create_branch_and_pull_request:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Crear Rama
        run: |
          git checkout -b bug1  # Cambia "bug1" al nombre de la rama que deseas crear
          git push origin bug1  # EnvÃ­a la nueva rama al repositorio remoto
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Crear Pull Request
        id: cpr
        uses: peter-evans/create-pull-request@v5
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          branch: bug1  # Rama de origen (la que acabamos de crear)
          base: main              # Rama de destino (main)
          title: "Automated Pull Request - Auto Merge"
          body: "This pull request was automatically generated on push to main."
          labels: "bug"
